{
  "camera": {
    "index": -1,
    "auto_select": true
  },
  "head_pose": {
    "smoothing": 0.4,
    "yaw_sensitivity": 15,
    "pitch_sensitivity": 12,
    "use_yaw_for_steering": true,
    "use_pitch_for_throttle": false,
    "auto_accelerate": true,
    "reverse_pitch_threshold": 18,
    "reverse_pitch_release": 12,
    "reverse_activation_frames": 5,
    "comment": "yaw_sensitivity: Plus bas = plus sensible. Recommandé 10-20 pour tétraplégie"
  },
  "gesture_commands": {
    "enabled": true,
    "gesture_mappings": {
      "left_blink": "turn_signal_left",
      "right_blink": "turn_signal_right",
      "mouth_open": "emergency_brake",
      "eyebrow_raise": "horn",
      "smile": "confirm_calibration",
      "both_blink": "toggle_pause"
    },
    "key_bindings": {
      "turn_signal_left": null,
      "turn_signal_right": null,
      "emergency_brake": "s",
      "horn": "h",
      "confirm_calibration": null,
      "toggle_pause": null
    },
    "hold_duration": 0.1,
    "turn_signal_duration": 3.0,
    "command_cooldown": 1.0
  },
  "advanced_filtering": {
    "use_des": true,
    "use_kalman": true,
    "use_lowpass": false,
    "des_alpha": 0.3,
    "des_beta": 0.1,
    "kalman_q": 0.01,
    "kalman_r": 0.1,
    "lowpass_alpha": 0.3,
    "comment": "DES = Double Exponential Smoothing, 100x plus rapide que Kalman"
  },
  "tremor_detection": {
    "tremor_frequency_range": [
      4,
      12
    ],
    "min_tremor_amplitude": 2.0,
    "large_movement_threshold": 10.0,
    "comment": "Détecte tremblements entre 4-12 Hz (typique pour pathologique)"
  },
  "motion_prediction": {
    "enabled": true,
    "steps": 2,
    "comment": "Prédit 2 frames en avance pour compenser latence"
  },
  "driving_assistant": {
    "level": 2,
    "auto_increase_on_fatigue": true,
    "comment": "Niveaux: 0=Aucun, 1=Minimal, 2=Moyen (recommandé), 3=Maximum"
  },
  "keys": {
    "forward": "z",
    "backward": "s",
    "left": "q",
    "right": "d",
    "comment": "Configuration AZERTY (français). Pour QWERTY: forward=w, left=a, right=d"
  },
  "ui": {
    "show_3d_pose": true,
    "show_gestures": true,
    "show_tremor_info": true,
    "show_fatigue": true,
    "show_fps": true,
    "mirror_video": true
  },
  "logging": {
    "enable": true,
    "log_file": "enhanced_driving_sessions.csv"
  },
  "profiles": {
    "tetraplegic_high_mobility": {
      "description": "Pour personnes avec bon contrôle de la tête",
      "head_pose": {
        "yaw_sensitivity": 12,
        "pitch_sensitivity": 10
      },
      "driving_assistant": {
        "level": 1
      },
      "advanced_filtering": {
        "des_alpha": 0.4
      }
    },
    "tetraplegic_limited_mobility": {
      "description": "Pour personnes avec contrôle limité",
      "head_pose": {
        "yaw_sensitivity": 20,
        "pitch_sensitivity": 15,
        "use_pitch_for_throttle": false
      },
      "driving_assistant": {
        "level": 3
      },
      "advanced_filtering": {
        "des_alpha": 0.2,
        "use_lowpass": true
      },
      "tremor_detection": {
        "min_tremor_amplitude": 1.0
      }
    },
    "tetraplegic_severe_tremors": {
      "description": "Pour personnes avec tremblements importants",
      "head_pose": {
        "yaw_sensitivity": 25,
        "smoothing": 0.3
      },
      "driving_assistant": {
        "level": 3
      },
      "advanced_filtering": {
        "use_des": true,
        "use_kalman": true,
        "use_lowpass": true,
        "des_alpha": 0.15,
        "lowpass_alpha": 0.2
      },
      "tremor_detection": {
        "min_tremor_amplitude": 0.5
      }
    }
  }
}
